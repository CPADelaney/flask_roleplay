It looks like the lint errors and context snippets didn’t come through. Could you paste the specific lint messages and the relevant code snippets? Once I have those, I can propose minimal high‑impact unified‑diff patches.