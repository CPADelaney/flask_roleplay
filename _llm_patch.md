It looks like the lint errors and context snippets didn’t come through—could you please paste the specific lint messages and relevant code excerpts? Once I have those, I can propose minimal unified-diff patches to clean things up.